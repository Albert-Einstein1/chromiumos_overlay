    This directory contains board and variant overlays.  When a board is
configured using "setup_board --board <board>" the following overlays are added
to the make.conf PORTDIR_OVERLAY if they exist:

    src/overlays/overlay-<board>
    src/private-overlays/overlay-<board>-private

    When a board is configured using "setup_board --board <board> --variant
<variant>" or "setup_board --board <board>_<variant>" the following overlays
are added if they exist:

    src/overlays/overlay-<board>
    src/overlays/overlay-variant-<board>-<variant>
    src/private-overlays/overlay-<board>-private
    src/private-overlays/overlay-variant-<board>-<variant>-private

    If --variant is supplied to setup_board or the <board>_<variant> version
of --board is supplied to setup_board then the primary variant overlay must
exist.

    All overlays (including variants) should contain a make.conf.  If this file
exists it will be sourced in the order that the overlays and variants are
listed above.

    The board and variant names can not have underscores or spaces in them.


PROFILES
--------
    All overlays must contain a profiles directory with a repo_name file
therein.  The repo_name file provides a unique name Portage uses to identify
each overlay or variant.

    Overlays and variants can also contain named profiles as subdirectories of
the profiles directory.  If the board overlay contains a "base" profile,
Portage will use that by default for the board; otherwise, Portage will use a
profile from chromiumos-overlay.

    Within a profile, a board overlay will most commonly want to specify
package-specific USE flags via package.use, mask or unmask package versions via
package.mask and package.unmask, or mask or unmask keywords via
package.keywords.  See "man portage" in the chroot for full details on those
and other files that can appear in a profile.

    Profiles in a board overlay must have a file "parent", containing the full
path of one of the profiles from chromiumos-overlay, as seen from the build
chroot; /usr/local/portage/chromiumos/profiles in the chroot maps to
src/third_party/chromiumos-overlay/profiles in the source tree.  The parent
must point to an architecture-appropriate profile, typically
/usr/local/portage/chromiumos/profiles/default/linux/$arch/$version/chromeos.
Profiles can use another profile from the same board as their parent, as long
as the chain of parent profiles eventually leads to an architecture-appropriate
profile from chromiumos-overlay.

    Adding a base profile to a board overlay that did not previously have a
profile will require re-running setup_board with --force.


LAYOUT.CONF
-----------
    Overlays should contain a metadata directory with a layout.conf file
therein.  The layout.conf file specifies the "masters" list.  This is a list of
repository names, taken from the repo_name files in the overlays.  This list
disambiguates the selection of ebuilds.  When two overlays supply the same
ebuild the overlay who's repo_name is listed later in the masters list will be
used.  The masters list also effects the way that portage searches for
eclasses.  By having the repo_name "chromiumos" as the last entry in the
masters list portage will correctly find the chromiumos specific eclasses.


PRIMARY BOARD OVERLAY
---------------------
    Each board must have a primary board overlay containing make.conf and a
toolchain.conf file.

    If src/overlays/overlay-<board> exists, it is used as as the primary board
overlay. If there is no src/overlays/overlay-<board> but there is a
src/private-overlays/overlay-<board>-private directory, it is used as the
primary board overlay.

    In order to be useful the primary overlay should also contain ebuilds for
chromeos-base/board-devices. The board-devices ebuild is used to override the
board-devices ebuild provided by the base chromiumos-overlay.

    If src/overlays/overlay-<board> is the primary board overlay it should
also contain a chromeos-base/board-devices-private ebuild. The
board-devices-private ebuild should be a "null" ebuild that is provided so that
a private overlay may override it.
